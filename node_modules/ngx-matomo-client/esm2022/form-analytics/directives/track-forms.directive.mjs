import { Directive, ElementRef, inject } from '@angular/core';
import { MatomoFormAnalytics } from '../matomo-form-analytics.service';
import * as i0 from "@angular/core";
export class TrackFormsDirective {
    constructor() {
        this.elementRef = inject(ElementRef);
        this.tracker = inject(MatomoFormAnalytics);
    }
    ngAfterViewInit() {
        this.scan();
    }
    scan() {
        this.tracker.scanForForms(this.elementRef);
    }
    trackSubmit(element) {
        this.tracker.trackFormSubmit(element);
    }
    trackConversion(element) {
        this.tracker.trackFormConversion(element);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.2", ngImport: i0, type: TrackFormsDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive }); }
    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "17.3.2", type: TrackFormsDirective, isStandalone: true, selector: "[matomoTrackForms]", exportAs: ["matomoTrackForms"], ngImport: i0 }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.2", ngImport: i0, type: TrackFormsDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[matomoTrackForms]',
                    standalone: true,
                    exportAs: 'matomoTrackForms',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhY2stZm9ybXMuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LW1hdG9tby1jbGllbnQvZm9ybS1hbmFseXRpY3MvZGlyZWN0aXZlcy90cmFjay1mb3Jtcy5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFpQixTQUFTLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3RSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQzs7QUFPdkUsTUFBTSxPQUFPLG1CQUFtQjtJQUxoQztRQU1tQixlQUFVLEdBQXdCLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNyRCxZQUFPLEdBQUcsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUM7S0FpQnhEO0lBZkMsZUFBZTtRQUNiLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFRCxJQUFJO1FBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCxXQUFXLENBQUMsT0FBc0M7UUFDaEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVELGVBQWUsQ0FBQyxPQUFzQztRQUNwRCxJQUFJLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzVDLENBQUM7OEdBbEJVLG1CQUFtQjtrR0FBbkIsbUJBQW1COzsyRkFBbkIsbUJBQW1CO2tCQUwvQixTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxvQkFBb0I7b0JBQzlCLFVBQVUsRUFBRSxJQUFJO29CQUNoQixRQUFRLEVBQUUsa0JBQWtCO2lCQUM3QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFmdGVyVmlld0luaXQsIERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgaW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNYXRvbW9Gb3JtQW5hbHl0aWNzIH0gZnJvbSAnLi4vbWF0b21vLWZvcm0tYW5hbHl0aWNzLnNlcnZpY2UnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbbWF0b21vVHJhY2tGb3Jtc10nLFxuICBzdGFuZGFsb25lOiB0cnVlLFxuICBleHBvcnRBczogJ21hdG9tb1RyYWNrRm9ybXMnLFxufSlcbmV4cG9ydCBjbGFzcyBUcmFja0Zvcm1zRGlyZWN0aXZlIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgZWxlbWVudFJlZjogRWxlbWVudFJlZjxFbGVtZW50PiA9IGluamVjdChFbGVtZW50UmVmKTtcbiAgcHJpdmF0ZSByZWFkb25seSB0cmFja2VyID0gaW5qZWN0KE1hdG9tb0Zvcm1BbmFseXRpY3MpO1xuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnNjYW4oKTtcbiAgfVxuXG4gIHNjYW4oKTogdm9pZCB7XG4gICAgdGhpcy50cmFja2VyLnNjYW5Gb3JGb3Jtcyh0aGlzLmVsZW1lbnRSZWYpO1xuICB9XG5cbiAgdHJhY2tTdWJtaXQoZWxlbWVudDogRWxlbWVudCB8IEVsZW1lbnRSZWY8RWxlbWVudD4pOiB2b2lkIHtcbiAgICB0aGlzLnRyYWNrZXIudHJhY2tGb3JtU3VibWl0KGVsZW1lbnQpO1xuICB9XG5cbiAgdHJhY2tDb252ZXJzaW9uKGVsZW1lbnQ6IEVsZW1lbnQgfCBFbGVtZW50UmVmPEVsZW1lbnQ+KTogdm9pZCB7XG4gICAgdGhpcy50cmFja2VyLnRyYWNrRm9ybUNvbnZlcnNpb24oZWxlbWVudCk7XG4gIH1cbn1cbiJdfQ==