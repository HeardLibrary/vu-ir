function coerceErrorHandler(errorOrHandler) {
    return typeof errorOrHandler === 'string'
        ? () => {
            throw new Error(errorOrHandler);
        }
        : errorOrHandler;
}
export function runOnce(fn, errorOrHandler) {
    const errorHandler = errorOrHandler ? coerceErrorHandler(errorOrHandler) : () => undefined;
    let run = false;
    return (...args) => {
        if (run) {
            return errorHandler(...args);
        }
        run = true;
        return fn(...args);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnVuY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtbWF0b21vLWNsaWVudC9jb3JlL3V0aWxzL2Z1bmN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFNBQVMsa0JBQWtCLENBQ3pCLGNBQXVEO0lBRXZELE9BQU8sT0FBTyxjQUFjLEtBQUssUUFBUTtRQUN2QyxDQUFDLENBQUMsR0FBRyxFQUFFO1lBQ0gsTUFBTSxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNsQyxDQUFDO1FBQ0gsQ0FBQyxDQUFDLGNBQWMsQ0FBQztBQUNyQixDQUFDO0FBV0QsTUFBTSxVQUFVLE9BQU8sQ0FDckIsRUFBd0IsRUFDeEIsY0FBd0Q7SUFFeEQsTUFBTSxZQUFZLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsU0FBUyxDQUFDO0lBQzNGLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQztJQUVoQixPQUFPLENBQUMsR0FBRyxJQUFVLEVBQUUsRUFBRTtRQUN2QixJQUFJLEdBQUcsRUFBRTtZQUNQLE9BQU8sWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7U0FDOUI7UUFFRCxHQUFHLEdBQUcsSUFBSSxDQUFDO1FBRVgsT0FBTyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUNyQixDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY29lcmNlRXJyb3JIYW5kbGVyPFQsIEFSR1MgZXh0ZW5kcyB1bmtub3duW10+KFxuICBlcnJvck9ySGFuZGxlcjogc3RyaW5nIHwgKCguLi5hcmdzOiBBUkdTKSA9PiBUIHwgbmV2ZXIpLFxuKTogKC4uLmFyZ3M6IEFSR1MpID0+IFQgfCBuZXZlciB7XG4gIHJldHVybiB0eXBlb2YgZXJyb3JPckhhbmRsZXIgPT09ICdzdHJpbmcnXG4gICAgPyAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck9ySGFuZGxlcik7XG4gICAgICB9XG4gICAgOiBlcnJvck9ySGFuZGxlcjtcbn1cblxuLyoqIFdyYXAgYSBmdW5jdGlvbiB0byBlbnN1cmUgaXQgaXMgY2FsbGVkIG9ubHkgb25jZSwgaWdub3JpbmcgYWxsIHN1YnNlcXVlbnQgY2FsbHMgKi9cbmV4cG9ydCBmdW5jdGlvbiBydW5PbmNlPFQsIEFSR1MgZXh0ZW5kcyB1bmtub3duW10+KFxuICBmbjogKC4uLmFyZ3M6IEFSR1MpID0+IFQsXG4pOiAoLi4uYXJnczogQVJHUykgPT4gVCB8IHZvaWQ7XG4vKiogV3JhcCBhIGZ1bmN0aW9uIHRvIGVuc3VyZSBpdCBpcyBjYWxsZWQgb25seSBvbmNlLCBjYWxsaW5nIGFuIGVycm9yIGhhbmRsZXIgb3RoZXJ3aXNlICovXG5leHBvcnQgZnVuY3Rpb24gcnVuT25jZTxULCBBUkdTIGV4dGVuZHMgdW5rbm93bltdLCBVID0gVD4oXG4gIGZuOiAoLi4uYXJnczogQVJHUykgPT4gVCxcbiAgZXJyb3JPckhhbmRsZXI6IHN0cmluZyB8ICgoLi4uYXJnczogQVJHUykgPT4gVSB8IG5ldmVyKSxcbik6ICguLi5hcmdzOiBBUkdTKSA9PiBUIHwgVTtcbmV4cG9ydCBmdW5jdGlvbiBydW5PbmNlPFQsIEFSR1MgZXh0ZW5kcyB1bmtub3duW10sIFUgPSBUPihcbiAgZm46ICguLi5hcmdzOiBBUkdTKSA9PiBULFxuICBlcnJvck9ySGFuZGxlcj86IHN0cmluZyB8ICgoLi4uYXJnczogQVJHUykgPT4gVSB8IG5ldmVyKSxcbik6ICguLi5hcmdzOiBBUkdTKSA9PiBUIHwgVSB8IHZvaWQge1xuICBjb25zdCBlcnJvckhhbmRsZXIgPSBlcnJvck9ySGFuZGxlciA/IGNvZXJjZUVycm9ySGFuZGxlcihlcnJvck9ySGFuZGxlcikgOiAoKSA9PiB1bmRlZmluZWQ7XG4gIGxldCBydW4gPSBmYWxzZTtcblxuICByZXR1cm4gKC4uLmFyZ3M6IEFSR1MpID0+IHtcbiAgICBpZiAocnVuKSB7XG4gICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIHJ1biA9IHRydWU7XG5cbiAgICByZXR1cm4gZm4oLi4uYXJncyk7XG4gIH07XG59XG4iXX0=